# 转测报告 (Handover to QA)

**项目名称**: Gepei Backend  
**版本**: V1.0.0-Alpha  
**日期**: 2026-01-19  
**提交人**: 开发团队

---

## 1. 概述 (Overview)
本版本完成了后端基础架构搭建及核心用户认证功能。环境已部署并通过冒烟测试，可交付测试团队进行详细测试。

**主要变更**:
- 完成项目初始化 (Express + TypeScript + MySQL)。
- 集成 Drizzle ORM 并完成数据库表结构设计。
- 实现用户注册、登录及获取个人信息接口。
- 修复数据库连接及环境变量配置问题。

---

## 2. 环境信息 (Environment)
| 组件 | 版本/配置 | 备注 |
| :--- | :--- | :--- |
| **Node.js** | v20.20.0 (LTS) | |
| **Database** | MySQL 8.0 | 用户名: root, 端口: 3306 |
| **ORM** | Drizzle ORM | |
| **Base URL** | `http://localhost:3000/api/v1` | |

---

## 3. 已实现功能 (Implemented Features)
以下功能已通过冒烟测试（Happy Path），请测试团队重点关注：

### 3.1 认证模块 (Auth)
- **用户注册** (`POST /auth/register`)
  - [x] 正常注册（手机号+密码）
  - [x] 密码加密存储 (bcrypt)
  - [x] 返回 JWT Token
- **用户登录** (`POST /auth/login`)
  - [x] 正常登录
  - [x] 返回 JWT Token
- **获取当前用户** (`GET /auth/me`)
  - [x] 携带有效 Token 获取信息

### 3.2 基础架构
- **健康检查** (`GET /health`): 确认服务存活。
- **数据库连接**: 确认应用能正常读写 MySQL。

---

## 4. 待测试范围 (Scope for QA)
开发仅进行了冒烟测试，请测试团队补充以下场景的测试：

### 4.1 边界与异常测试 (Boundary & Edge Cases)
- **输入验证**:
  - 手机号格式校验（非 11 位、含字符等）。
  - 密码强度校验（过短、过长）。
  - 必填项缺失（如注册时不传密码）。
- **重复性测试**:
  - 使用已注册的手机号再次注册。
- **安全性测试**:
  - 错误密码登录尝试。
  - 使用过期或无效的 Token 访问 `/auth/me`。
  - SQL 注入尝试（ORM 层应已处理，需验证）。
- **并发测试**:
  - 只有少量并发请求时的表现。

### 4.2 遗留问题/已知限制 (Known Issues)
- **日志**: 目前仅有控制台日志，未接入完善的文件日志系统。
- **错误码**: 错误返回格式虽统一，但具体错误码 (ErrorCode) 尚未完全标准化文档化。
- **数据清理**: 暂无自动化数据清理脚本，测试需手动维护数据。

---

## 5. 部署指南 (Deployment)
```bash
# 1. 安装依赖
npm install

# 2. 初始化数据库 (确保 .env 配置正确)
npx drizzle-kit push

# 3. 启动服务
npm run dev
```

---

请测试团队基于此报告制定测试计划。如有疑问，请随时沟通。
