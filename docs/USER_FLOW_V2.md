# 陪你地陪App - 用户流程与交互设计 V2（更新版）

## 👥 用户角色定义

### 1. 普通用户（客户）

- 寻求本地导游服务的游客
- 可以浏览地陪、发起定制单、查看订单、提现
- 可以选择认证为地陪

### 2. 地陪用户

- 提供导游服务的本地人
- 拥有完整的地陪资料（头像、照片、价格、介绍等）
- 可以查看接到的订单、编辑资料、提现

### 3. 管理员

- 平台管理人员
- 可以管理用户、订单、给定制订单关联地陪

---

## 📱 核心用户流程

### 流程0：浏览与登录触发

```
开始
  ↓
打开应用
  ↓
【无需登录即可浏览】
  - 首页
  - 地陪列表
  - 地陪详情
  - 私人定制入口介绍
  ↓
用户触发交互操作
  ↓
【需要登录的操作】
  - 点击"预订"按钮
  - 点击"发起定制单"并进入支付
  - 进入"我的订单"
  - 进入"个人中心"
  - 收藏地陪
  - 认证为地陪
  ↓
系统检测未登录
  ↓
跳转到登录页面
  ↓
用户可以选择：
  - 登录（手机号+密码）
  - 注册新账号
  - 返回继续浏览（点击返回按钮）
  ↓
登录成功后，返回原操作页面
  ↓
结束
```

**关键点**：

- 用户可以**无需登录**即可浏览首页、地陪列表、地陪详情等内容
- 只有在**触发交互操作**时才需要登录
- 登录页面有**返回按钮**，用户可以返回继续浏览
- 登录成功后，自动返回到用户触发登录前的页面

---

### 流程1：用户注册与认证

```
开始
  ↓
输入手机号、密码
  ↓
注册成功（作为普通用户）
  ↓
进入首页
  ↓
（可选）在个人中心点击"认证为地陪"
  ↓
进入地陪资料编辑界面
  ↓
填入身份证信息进行校验
  ↓
成为地陪用户
  ↓
结束
```

**关键点**：

- 客户注册时**不需要实名认证**
- 地陪认证是**可选的**，用户可以先作为客户使用，后续再认证
- 认证和资料编辑在**同一个界面**完成

---

### 流程2：地陪展示与浏览

```
开始
  ↓
进入首页
  ↓
查看地陪列表（卡片式）
  ↓
点击地陪卡片
  ↓
进入地陪详情页
  ↓
查看地陪信息：
  - 头像
  - 照片轮播（最多5张，默认显示第一张，可滑动）
  - 名字、城市、小时价格
  - 个人介绍
  - 技能标签
  - 评分和评价
  ↓
（可选）返回列表继续浏览
  ↓
结束
```

**关键点**：

- 地陪照片支持轮播，用户可以滑动查看
- 显示地陪的完整信息和评价
- 支持搜索和筛选功能

---

### 流程3：私人定制单发起

```
开始
  ↓
进入首页
  ↓
点击"发起定制单"按钮（首页上的功能按钮）
  ↓
进入定制流程
  ↓
【步骤1】填写需求表单
  - 服务日期（日期选择器）
  - 见面地点（地图选择 / TBD）
  - 服务内容（文本描述）
  - 预算（数字输入，显示建议范围 150-300）
  - 特殊要求（文本描述，可选）
  ↓
【步骤2】预览和确认
  - 显示所有信息汇总
  - 显示需支付的订金金额：¥150
  - 警告：支付后不可退款
  - 点击"确认并支付"按钮
  ↓
【步骤3】支付订金
  - 显示订金金额：¥150
  - 选择支付方式：微信支付（其他方式预留）
  - 完成支付
  ↓
【步骤4】等待
  - 显示"已发单"状态
  - 显示预计等待时间（1小时）
  - 显示倒计时或进度条
  ↓
【步骤5】查看报名地陪
  - 显示管理员推荐的地陪列表（约6位）
  - 每个地陪卡片显示：头像、名字、城市、价格、评分
  - 有"选择"按钮
  ↓
【步骤6】选择地陪
  - 点击"选择"按钮
  - 显示确认对话框
  - 确认后，订单完成
  ↓
【步骤7】跳转到订单详情页
  - 自动跳转到订单详情页（06_order_detail.png）
  - 显示完整的订单信息和地陪联系方式
  - **注意**：此时私人定制订单和普通订单在本质上是一样的，都使用相同的订单详情页
  ↓
【步骤8】线下结算
  - 客户和地陪线下结算尾款（不在平台上）
  ↓
结束
```

**关键点**：

- 定制单是一个**独立的功能流程**，从首页的按钮进入
- **先填表，再确认，确认时才支付**，避免用户付费后放弃
- 支付**只支持微信**，其他方式预留
- 用户需要填写详细的需求信息
- 管理员手动为定制单推荐地陪
- 尾款**线下结算**，不在平台上

---

### 流程4：订单管理（客户端）

```
开始
  ↓
进入个人中心
  ↓
点击"订单"
  ↓
显示"我下的单"标签页
  ↓
显示订单列表：
  - 订单号
  - 地陪名字
  - 订单状态（待支付、进行中、已完成、已取消）
  - 支出金额
  ↓
支持筛选：
  - 按状态筛选
  - 按日期筛选
  - 按金额筛选
  ↓
点击订单卡片
  ↓
进入订单详情页
  ↓
进入订单详情页（06_order_detail.png）
  ↓
显示订单详情：
  【订单状态卡片】（橙色渐变背景）
  - 当前状态：进行中/已完成/已取消
  - 状态图标和描述
  
  【订单基本信息】
  - 订单编号
  - 订单类型：私人定制/普通订单（橙色/蓝色标签）
  - 下单时间
  - 服务时间
  
  【地陪信息】
  - 头像、名字、认证徽章
  - 评分和城市
  
  【服务详情】
  - 服务地点
  - 服务内容
  - 特殊要求
  - 预算/报价
  
  【费用明细】（统一格式，不区分订单类型）
  - 订金：¥150
  - 服务费：¥XXX
  - 合计：¥XXX
  
  【操作按钮】（根据订单状态显示）
  - 进行中：取消订单
  - 已完成：评价（点击显示"功能开发中"）、再次预订
  - 已取消：删除订单
  ↓
（可选）返回列表
  ↓
结束
```

**关键点**：

- 客户可以查看所有自己发起的订单
- 支持多维度筛选
- 显示支出金额

---

### 流程5：订单管理（地陪端）

```
开始
  ↓
进入个人中心
  ↓
点击"订单"
  ↓
显示"我接的单"标签页
  ↓
显示订单列表：
  - 订单号
  - 客户名字
  - 订单状态（待支付、进行中、已完成、已取消）
  - 收益金额
  ↓
支持筛选：
  - 按状态筛选
  - 按日期筛选
  - 按金额筛选
  ↓
点击订单卡片
  ↓
进入订单详情页
  ↓
显示订单详情：
  - 订单号
  - 客户信息（头像、名字、联系方式）
  - 服务日期、地点、内容
  - 收益金额
  - 订单状态和时间线
  ↓
（可选）返回列表
  ↓
结束
```

**关键点**：

- 地陪可以查看所有自己接到的订单
- 支持多维度筛选
- 显示收益金额

---

### 流程6：个人中心（客户）

```
开始
  ↓
进入个人中心
  ↓
显示用户信息：
  - 头像
  - 名字
  - 手机号
  ↓
显示菜单项：
  - 订单（查看我下的单）
  - 认证为地陪（如果未认证）
  - 余额和提现
  ↓
点击"认证为地陪"
  ↓
进入地陪资料编辑界面
  ↓
（见流程7）
  ↓
结束
```

**关键点**：

- 简洁的个人中心设计
- "认证为地陪"是一个可选操作

---

### 流程7：地陪资料编辑

```
开始
  ↓
进入地陪资料编辑界面
  ↓
【部分1】头像编辑
  - 显示当前头像
  - 上传/更换头像按钮
  ↓
【部分2】照片库编辑
  - 显示当前照片（最多5张）
  - 默认显示第一张
  - 支持上传新照片
  - 支持删除照片
  - 支持拖拽排序（可选）
  ↓
【部分3】基本信息编辑
  - 名字（文本输入）
  - 城市（下拉选择）
  - 小时价格（数字输入）
  - 个人介绍（文本区域）
  ↓
【部分4】技能标签
  - 显示已选标签
  - 支持添加/删除标签
  ↓
【部分5】实名认证（仅在首次认证时）
  - 身份证姓名（文本输入）
  - 身份证号码（文本输入）
  - 验证按钮
  - 验证成功后，显示"已认证"
  ↓
【部分6】保存
  - 保存按钮
  - 保存成功提示
  ↓
结束
```

**关键点**：

- 头像和照片分开管理
- 照片最多5张，默认显示第一张
- 实名认证只在首次认证时进行
- 所有信息在一个界面完成编辑

---

### 流程8：余额与提现

```
开始
  ↓
进入个人中心
  ↓
点击"余额和提现"
  ↓
显示余额信息：
  - 当前余额
  - 累计收益（地陪）/ 累计支出（客户）
  - 交易历史
  ↓
点击"提现"按钮
  ↓
进入提现流程
  ↓
输入提现金额
  ↓
选择提现方式（微信、支付宝等，预留）
  ↓
确认提现
  ↓
显示提现成功
  ↓
结束
```

**关键点**：

- 显示余额和交易历史
- 支持提现功能
- 提现方式预留

---

### 流程9：消息功能（预留）

```
开始
  ↓
点击底部导航的"消息"图标
  ↓
显示提示："敬请期待"
  ↓
结束
```

**关键点**：

- 消息功能暂不实现
- 预留图标和入口
- 点击时显示"敬请期待"提示

---

## 🖥️ 后台管理流程

### 流程10：人员管理

```
开始
  ↓
进入后台管理
  ↓
点击"人员管理"
  ↓
显示用户/地陪列表
  ↓
支持筛选：
  - 城市
  - 手机号
  - 用户类型（客户/地陪）
  ↓
显示列表项：
  - 用户ID
  - 名字
  - 手机号
  - 城市
  - 用户类型
  - 注册时间
  ↓
（可选）点击用户
  ↓
显示用户详情（简单展示，不跳转到订单页）
  ↓
结束
```

**关键点**：

- 简化设计，只显示列表
- 支持基本筛选
- 不需要跳转到订单页

---

### 流程11：订单管理与定制单报名

```
开始
  ↓
进入后台管理
  ↓
点击"订单管理"
  ↓
显示订单列表
  ↓
支持筛选：
  - 订单状态
  - 订单类型（定制单/普通订单）
  - 日期范围
  ↓
找到待处理的定制单
  ↓
点击定制单
  ↓
显示定制单详情：
  - 客户信息
  - 需求内容
  - 预算
  - 当前报名地陪（如果有）
  ↓
点击"添加报名地陪"
  ↓
进入地陪筛选界面
  ↓
支持筛选：
  - 城市（必选）
  - 手机号（可选）
  - 其他基本信息
  ↓
显示筛选结果（地陪列表）
  ↓
选择地陪
  ↓
确认添加
  ↓
返回定制单详情
  ↓
显示已添加的地陪
  ↓
（可选）继续添加更多地陪（约6位）
  ↓
结束
```

**关键点**：

- 简化设计，只显示必要信息
- 支持按城市和手机号筛选地陪
- 可以添加多个地陪（约6位）
- 不需要复杂的地陪资料展示

---

## 🎨 交互设计细节

### 页面导航

**底部导航栏**（5个标签）：

1. 首页 - 地陪展示、发起定制单
2. 地陪 - 搜索和筛选地陪
3. 消息 - 预留（敬请期待）
4. 高端定制 - 私人定制功能
5. 我的 - 用户信息、认证、余额、订单

### 常见交互

**表单验证**：

- 必填字段标记为红色 *
- 输入错误时显示错误提示
- 提交前验证所有必填字段

**支付流程**：

- 显示订金金额
- 选择支付方式（微信支付）
- 显示支付二维码或跳转到微信
- 支付成功后返回应用

**加载状态**：

- 显示加载动画
- 显示加载提示文本

**错误处理**：

- 显示错误提示
- 提供重试选项

### 动画和过渡

**页面过渡**：

- 页面切换时有淡入淡出效果
- 列表加载时有骨架屏效果

**按钮反馈**：

- 按钮按下时有按压效果
- 按钮加载时显示加载动画

**列表交互**：

- 列表项滑动时显示删除/编辑选项
- 列表加载更多时有加载动画

---

## ♿ 无障碍设计

### 键盘导航

- 所有交互元素都可以通过 Tab 键导航
- 按钮和链接都有明确的焦点状态

### 屏幕阅读器支持

- 所有图片都有 alt 文本
- 表单标签与输入框关联
- 错误提示与输入框关联

### 色彩对比

- 文本和背景的对比度符合 WCAG AA 标准
- 不仅依赖颜色来传达信息

### 字体大小

- 最小字体大小为 14px
- 支持用户调整字体大小

---

## 📊 用户流程统计

| 流程             | 复杂度 | 优先级 | 预计开发时间 |
| ---------------- | ------ | ------ | ------------ |
| 用户注册与认证   | 中     | P0     | 3天          |
| 地陪展示与浏览   | 低     | P0     | 2天          |
| 私人定制单发起   | 高     | P0     | 5天          |
| 订单管理（客户） | 中     | P0     | 3天          |
| 订单管理（地陪） | 中     | P0     | 3天          |
| 个人中心（客户） | 低     | P0     | 2天          |
| 地陪资料编辑     | 中     | P0     | 3天          |
| 余额与提现       | 中     | P1     | 3天          |
| 消息功能（预留） | 低     | P3     | 1天          |
| 人员管理         | 低     | P0     | 2天          |
| 订单管理与报名   | 中     | P0     | 3天          |

---

## 📝 备注

1. **手机网页优化**：所有流程都应该针对手机网页和微信内跳转进行优化
2. **微信支付**：集成微信支付API，其他支付方式预留
3. **后台简化**：后台管理系统采用简化设计，只保留必要功能
4. **地陪照片**：支持轮播，用户可以滑动查看
5. **消息预留**：点击时显示“敬请期待”提示
6. **订单详情页共用逻辑**：私人定制订单和普通订单在选择地陪后，都使用相同的订单详情页（06_order_detail.png）。该页面通过订单类型标签（橙色/蓝色）区分不同类型的订单，但费用明细采用统一格式，不做区分